{% extends "base.html" %}
{% block title %}Settings{% endblock title %}
{% block navbar_insert %}
<a class="entity-header navbar-brand" href="{{ url_for('settings') }}">Settings</a>
{% endblock navbar_insert %}
{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 col-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <strong class="text-info">Feeds</strong>
                </div>
                    <ul class="list-group">
                        {% for feed in nav_feeds %}
                        <li class="list-group-item">
                            <div class="row">
                                <div class="col-xs-6">
                                    <a href="{{ url_for('display') }}?entity=feed&id={{ feed.id }}">
                                        <h5 class="text-muted">{{ feed.title }}</h5>
                                    </a>
                                </div>
                                <div class="btn-group col-xs-6" role="group" aria-label="Delete or Edit">
                                    <a type="button" class="btn btn-default" href="{{ url_for('del_entity') }}?entity=feed&id={{ feed.id }}">Delete</a>
                                    <a type="button" class="btn btn-default"  href="{{ url_for('edit_entity') }}?entity=feed&id={{ feed.id }}">Edit</a>
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                <div class="panel-body">
                    <form method="POST" action="{{ url_for('add_entity') }}">
                        <div class="form-group">
                            <input type="hidden" name="entity" value="feed">
                            <label for="feed-input"><h5 class="text-muted">Add Feed<h5></label>
                        </div>
                        {% if nav_categories %}
                        <div class="form-group">
                            <label>Categories</label></br>
                            {% for c in nav_categories %}
                            <div class="checkbox-inline">
                                <label><input type="checkbox" name="category" value="{{ c.id }}">{{ c.title }}</label>
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %}
                        <div class="input-group">
                            <input type="url" class="form-control" name="url" id="feed-input" placeholder="http://">
                            <span class="input-group-btn">
                                <input class="btn btn-default" type="submit" value="Add">
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <strong class="text-info">Categories</strong>
                </div>
                    <ul class="list-group">
                        {% for category in nav_categories %}
                        <li class="list-group-item">
                            <div class="row">
                                <div class="col-xs-6">
                                    <a href="{{ url_for('display') }}?entity=category&id={{ category.id }}">
                                        <h5 class="text-muted">{{ category.title }}</h5>
                                    </a>
                                </div>
                                <div class="btn-group col-xs-6" roles="group" aria-label="Delete or Edit">
                                    <a type="button" class="btn btn-default"  href="{{ url_for('del_entity') }}?entity=category&id={{ category.id }}">Delete</a>
                                    <a type="button" class="btn btn-default"  href="{{ url_for('edit_entity') }}?entity=category&id={{ category.id }}">Edit</a>
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                <div class="panel-body">
                    <form method="POST" action="{{ url_for('add_entity') }}">
                        <div class="form-group">
                            <input type="hidden" name="entity" value="category">
                            <label for="category-input"><h5 class="text-muted">Add Category</h5></label>
                        </div>
                        {% if nav_feeds %}
                        <div class="form-group">
                            <label>Feeds</label><br>
                            {% for f in nav_feeds %}
                            <div class="checkbox-inline">
                                <label><input type="checkbox" name="feed" value="{{ f.id }}">{{ f.title }}</label>
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %}
                        <div class="input-group">
                            <input type="text" class="form-control" name="category" id="category-input" placeholder="Category Name">
                            <span class="input-group-btn">
                                <input class="btn btn-default" type="submit" value="Add">
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <strong class="text-info">User</strong>
                </div>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <form method="POST" action="{{ url_for('edit_user') }}">
                                <div class="form-group">
                                    <label for="username-input">Username</label>
                                </div>
                                <div class="input-group">
                                    <input type="text" class="form-control" name="username" id="username-input" value="{{ username }}">
                                    <span class="input-group-btn">
                                        <input class="btn btn-default" type="submit" value="Change">
                                    </span>
                                </div>
                            </form>
                        </li>
                    </ul>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <form method="POST" action="{{ url_for('edit_user') }}">
                                <div class="form-group">
                                    <input type="hidden" name="property" value="password">
                                    <label for="password-input">Password</label>
                                </div>
                                <div class="input-group">
                                    <input type="password" class="form-control" name="password" id="password-input" placeholder="******">
                                    <span class="input-group-btn">
                                        <input class="btn btn-default" type="submit" value="Change">
                                    </span>
                                </div>
                            </form>
                        </li>
                    </ul>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <form method="POST" action="{{ url_for('edit_user') }}">
                                <div class="form-group">
                                    <input type="hidden" name="delete" value="delete">
                                    <label for="category-input">Delete User</label>
                                    <p>This will delete all user information including subscribed feeds and categories. You will be logged out.</p>
                                    <input class="btn btn-default" type="submit" value="Delete">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
