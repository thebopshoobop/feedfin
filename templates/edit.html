{% extends "base.html" %}
{% block title %}Edit Feed{% endblock title %}
{% block content %}
    <div id="header">
    {% if feed %}
        <h1>Edit Feed</h1>
        <a href="{{ url_for('display') }}?entity=feed&id={{ feed.id }}">View Feed</a>
    {% elif category %}
        <h1>Edit Category</h1>
        <a href="{{ url_for('display') }}?entity=category&id={{ category.id }}">View Category</a>
    {% endif %}
    </div>
    <div id="edit_form">
        <form method="POST" action="{{ url_for('edit_entity') }}">
        {% if feed %}
            <input type="hidden" name="entity" value="feed">
            <input type="hidden" name="id" value="{{ feed.id }}">
            <dl>
                <dt>Feed Name:</dt>
                <dd><input type="text" name="title" value="{{ feed.title }}"></dd>
                <dt>Feed Address:</dt>
                <dd><input type="text" name="url" value="{{ feed.url }}"></dd>
                <dt>Categories:</dt>
                {% if feed.categories or other_categories %}
                <dd>
                {% for c in feed.categories %}
                    <label><input type="checkbox" name="category" value="{{ c.id }}" checked="checked">{{ c.title }}</label>
                {% endfor %}
                {% for c in other_categories %}
                    <label><input type="checkbox" name="category" value="{{ c.id }}">{{ c.title }}</label>
                {% endfor %}
                </dd>
                {% endif %}
            </dl>
        {% elif category %}
            <input type="hidden" name="entity" value="category">
            <input type="hidden" name="id" value="{{ category.id }}">
            <dl>
                <dt>Category Name:</dt>
                <dd><input type="text" name="title" value="{{ category.title }}"></dd>
                <dt>Feeds:</dt>
                {% if category.feeds or other_feeds %}
                <dd>
                {% for f in category.feeds %}
                    <label><input type="checkbox" name="feed" value="{{ f.id }}" checked="checked">{{ f.title }}</label>
                {% endfor %}
                {% for f in other_feeds %}
                    <label><input type="checkbox" name="feed" value="{{ f.id }}">{{ f.title }}</label>
                {% endfor %}
                </dd>
                {% endif %}
            </dl>
        {% endif %}
            <button type="submit" name="submit" value="delete">Delete</button> <button type="submit" name="submit" value="reset">Reset</button> <button type="submit" name="submit" value="save">Save</button>
        </form>
    </div>
{% endblock content %}
